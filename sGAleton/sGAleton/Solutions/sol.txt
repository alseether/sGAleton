// Example
3
0 0 2 1
0 2 2 2
0 3 2 4

15
TT T TT
TM M MT
TT T TT

// Small
12
0 0 1 1
0 2 1 3
0 4 1 4
0 5 1 6
2 0 3 1
2 2 3 3
2 4 3 4
2 5 3 6
4 0 5 1
4 2 5 3
4 4 5 4
4 5 5 6

26

TM MM T TT
MM MM T MM

TT MT T MT
TM MT M MM

TT TT T TM
TT TT T TM

// Medium